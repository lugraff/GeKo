<div class="flex flex-col items-center w-full h-full px-4 pt-2 rounded-md">
    <div class="flex self-start items-start gap-2 w-full">
        <svg *ngIf="!pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" (click)="pause = true"
            class="w-6 h-6 stroke-[1.5] stroke-warning fill-transparent">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <svg *ngIf="pause && futureText.length" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            (click)="pause = false" class="w-6 h-6 stroke-[1.5] stroke-warning fill-transparent">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z" />
        </svg>

        <div [ngClass]="pause ? 'text-tertiary':'text-warning animate-pulse'" class="flex w-full">
            <div [ngClass]="{'hidden':hours === '00'}">{{hours}}:</div>
            <div *ngIf="futureText.length">{{minutes}}:{{seconds}}</div>
            <div class="mx-auto text-xl text-danger animate-waving m-4">{{result}}</div>
        </div>
    </div>
    <div
        class="flex max-w-full w-full px-16 py-4 border border-tertiary rounded-md bg-gradient-to-r from-bgB via-bgA to-bgB text-2xl font-thin">
        <pre
            class="text-primary whitespace-pre-wrap w-1/2 text-right">{{finishedText | textWrapper:textSideLenght:true}}</pre>
        <pre class="text-danger">{{letter | spaceToLine}}</pre>
        <pre class="whitespace-pre-wrap w-1/2 ">{{futureText | textWrapper:textSideLenght:false}}</pre>
    </div>
    <input type="range" [value]="finishedText.length" [max]="futureText.length + finishedText.length"
        class="accent-primary w-full pointer-events-none opacity-50 mt-4">
    <div class="flex w-full">
        <div class="flex flex-col bg-bgB rounded-md m-8 w-64 ">
            <div class="flex items-start">

                <input type="checkbox" class="accent-primary m-2" [disabled]="false" [(ngModel)]="arcadeMode">
                <div>Arcade Mode</div>

            </div>
            <button *ngIf="!arcadeMode" [disabled]="futureText.length < 8"
                class="rounded-md bg-bgA hover:bg-selection w-fit mt-4 p-1 self-center disabled:pointer-events-none disabled:brightness-50 active:bg-primary">Speichern</button>
            <button *ngIf="!arcadeMode" [disabled]="result === ''" (click)="onNewText()"
                class="rounded-md bg-bgA hover:bg-selection w-fit mt-4 p-1 self-center disabled:pointer-events-none disabled:brightness-50 active:bg-primary">Neu</button>
        </div>
        <img src="/assets/Keyboard.png" alt="keyboard" class="m-16 rounded-lg brightness-90">
    </div>


    <textarea *ngIf="pause && !arcadeMode && result === ''" [(ngModel)]="futureText" spellcheck="false"
        placeholder="Text..."
        class="bg-bgB w-full grow scrollbar-thin scrollbar-track-bgB scrollbar-thumb-selection text-xs p-1 border"></textarea>
    <div *ngIf="pause && arcadeMode"
        class="border border-tertiary w-full grow scrollbar-thin scrollbar-track-bgB scrollbar-thumb-selection">
        <div *ngFor="let file of globals.typeWriterUrls; let i = index">
            <button (click)="onSelectTitel(i)" [ngClass]="file.titel === titel ? 'border-primary':'border-bgA'"
                class="self-start m-1 border  px-1 bg-bgB text-tertiary hover:bg-bgA hover:text-textA transition-all">{{file.titel}}</button>
        </div>
    </div>
</div>